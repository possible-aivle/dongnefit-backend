CLI 시나리오 (제안)

현재 코드 구조를 분석한 결과, 아래와 같은 시나리오를 제안합니다.

현재 상태 요약

┌──────────────────┬─────────────────┬─────────────────────────┬─────────────────────┐
│ 분류 │ 데이터 │ 프로세서 │ 파일 형태 │
├──────────────────┼─────────────────┼─────────────────────────┼─────────────────────┤
│ 토지임야정보 │ AL_D003 │ land_forest │ ZIP→CSV │
├──────────────────┼─────────────────┼─────────────────────────┼─────────────────────┤
│ 토지특성정보 │ AL_D194/195 │ land_characteristic │ ZIP→CSV │
├──────────────────┼─────────────────┼─────────────────────────┼─────────────────────┤
│ 토지이용계획정보 │ AL_D155 │ land_use_plan │ ZIP→CSV │
├──────────────────┼─────────────────┼─────────────────────────┼─────────────────────┤
│ 개별공시지가 │ AL_D151 │ official_land_price │ ZIP→CSV │
├──────────────────┼─────────────────┼─────────────────────────┼─────────────────────┤
│ 토지소유정보 │ AL_D401 │ land_ownership │ ZIP→CSV │
├──────────────────┼─────────────────┼─────────────────────────┼─────────────────────┤
│ 건축물대장 (5종) │ mart_djy_0X.txt │ 5개 프로세서 │ TXT (전국 단일파일) │
├──────────────────┼─────────────────┼─────────────────────────┼─────────────────────┤
│ GIS건물통합정보 │ AL_D010 │ gis_building_integrated │ ZIP→SHP │
├──────────────────┼─────────────────┼─────────────────────────┼─────────────────────┤
│ 실거래가 (2종) │ XLSX │ 2개 프로세서 │ XLSX │
├──────────────────┼─────────────────┼─────────────────────────┼─────────────────────┤
│ 연속지적도 │ SHP │ 미구현 │ ZIP→SHP │
├──────────────────┼─────────────────┼─────────────────────────┼─────────────────────┤
│ 행정구역경계 │ SHP │ 미구현 │ ZIP→SHP │
├──────────────────┼─────────────────┼─────────────────────────┼─────────────────────┤
│ 도로중심선 │ SHP │ 미구현 │ ZIP→SHP │
├──────────────────┼─────────────────┼─────────────────────────┼─────────────────────┤
│ 연속수치지형도 │ SHP │ 미구현 │ ZIP→SHP │
├──────────────────┼─────────────────┼─────────────────────────┼─────────────────────┤
│ 용도지역지구정보 │ CSV │ 미구현 │ ZIP→CSV │
└──────────────────┴─────────────────┴─────────────────────────┴─────────────────────┘

제안하는 CLI 플로우

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
DongneFit 공공데이터 관리 CLI v0.1.0
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

? 작업을 선택하세요:
❯ 📂 공공데이터 적재 (파일 → DB) ← 신규 추가
📊 데이터 조회 / 통계
──────────────
🗂️ DB 테이블 조회
🔄 DB 테이블 스왑
📋 DB 환경 간 복사
──────────────
💾 Bin 파일 추출 (pg_dump)
📥 Bin 파일 복원 (pg_restore)
📄 Bin 파일 목록
──────────────
🧹 테이블 데이터 초기화 (TRUNCATE)
❌ 테이블 삭제 (DROP)
──────────────
종료

Step 1: 데이터 소스 선택 (체크박스 복수 선택)
? 적재할 데이터를 선택하세요 (Space 선택, Enter 확인):
── 토지 ──
☑ 토지임야정보 (AL_D003)
☑ 개별공시지가 (AL_D151)
☐ 토지이용계획정보 (AL_D155)
☐ 토지특성정보 (AL_D194/195)
☐ 토지소유정보 (AL_D401)
── 건축물 ──
☐ 건축물대장 표제부
☐ 건축물대장 총괄표제부
☐ 건축물대장 층별개요
☐ 건축물대장 전유공용면적
☐ 건축물대장 부속지번
☐ GIS건물통합정보 (AL_D010)
── 거래 ──
☐ 실거래가 매매
☐ 실거래가 전월세
── 공간 ──
☐ 연속지적도
☐ 행정구역경계
☐ 도로중심선
☐ 용도지역지구정보

Step 2: 지역 선택 (복수 선택 - 시 단위)
? 적재할 지역을 선택하세요 (Space 선택, Enter 확인):
── 특별시/광역시 ──
☑ 서울특별시
☐ 부산광역시
☐ 대구광역시
☐ 인천광역시
☐ 광주광역시
☐ 대전광역시
☐ 울산광역시
☐ 세종특별자치시
── 경기도 ──
☑ 수원시
☐ 성남시
☐ 고양시
☐ 용인시
... (경기도 내 모든 시/군)
── 충청북도 ──
☐ 청주시
☐ 충주시
... (각 도별 시/군)

Step 3: 옵션 확인
? 기존 데이터 처리 방식:
❯ UPSERT (중복 시 업데이트)
TRUNCATE 후 재적재
그대로 INSERT (중복 허용)

Step 4: 실행 확인 & 진행
━━━ 적재 계획 ━━━
데이터: 토지임야정보, 개별공시지가
지역: 서울특별시, 수원시
방식: UPSERT

? 진행하시겠습니까? [Y/n]: Y

━━━ 적재 중 ━━━
[1/4] 토지임야정보 - 서울특별시
ZIP 해제 → CSV 파싱 → 필터링 → DB 적재
✅ 12,345건 적재 (0.8s)

    [2/4] 토지임야정보 - 수원시
          ZIP 해제 → CSV 파싱 → 필터링 → DB 적재
          ✅ 5,678건 적재 (0.3s)

    [3/4] 개별공시지가 - 서울특별시
          ZIP 해제 → CSV 파싱 → 필터링 → DB 적재
          ✅ 45,123건 적재 (2.1s)

    [4/4] 개별공시지가 - 수원시
          ZIP 해제 → CSV 파싱 → 필터링 → DB 적재
          ✅ 8,901건 적재 (0.5s)

━━━ 적재 완료 ━━━
총 적재: 72,047건
소요 시간: 3.7s
