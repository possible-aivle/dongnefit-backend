DB 용량 현황 분석

현재 상태 (종로구 1개 시군구 기준)

┌─────────────────────────────┬──────────────┐
│ 지표 │ 값 │
├─────────────────────────────┼──────────────┤
│ DB 총 용량 │ 3.04 GB │
├─────────────────────────────┼──────────────┤
│ Heap (테이블 데이터) │ 1.96 GB │
├─────────────────────────────┼──────────────┤
│ TOAST (대형 JSONB/geometry) │ 888 MB │
├─────────────────────────────┼──────────────┤
│ 데이터 행 수 │ ~1,700,000건 │
└─────────────────────────────┴──────────────┘

raw_data JSONB 비중

┌───────────────────────────┬───────┬──────────┬─────────┬───────┐
│ 테이블 │ 행 수 │ raw_data │ 행 전체 │ 비율 │
├───────────────────────────┼───────┼──────────┼─────────┼───────┤
│ land_ownerships │ 100K │ 85 MB │ 98 MB │ 86.6% │
├───────────────────────────┼───────┼──────────┼─────────┼───────┤
│ land_characteristics │ 49K │ 41 MB │ 48 MB │ 85.3% │
├───────────────────────────┼───────┼──────────┼─────────┼───────┤
│ building_register_areas │ 285K │ 205 MB │ 242 MB │ 84.6% │
├───────────────────────────┼───────┼──────────┼─────────┼───────┤
│ building_register_headers │ 27K │ 30 MB │ 36 MB │ 84.6% │
├───────────────────────────┼───────┼──────────┼─────────┼───────┤
│ land_use_plans │ 49K │ 31 MB │ 37 MB │ 83.1% │
├───────────────────────────┼───────┼──────────┼─────────┼───────┤
│ official_land_prices │ 49K │ 21 MB │ 25 MB │ 82.2% │
├───────────────────────────┼───────┼──────────┼─────────┼───────┤
│ real_estate_sales │ 424K │ 237 MB │ 306 MB │ 77.2% │
├───────────────────────────┼───────┼──────────┼─────────┼───────┤
│ 합계 │ 1.7M │ 892 MB │ 1.65 GB │ 54% │
└───────────────────────────┴───────┴──────────┴─────────┴───────┘

raw_data가 정규화된 데이터 용량의 ~80%를 차지합니다.

전국 추정 (226 시군구)

┌───────────────────────────┬───────────────┐
│ 시나리오 │ 예상 용량 │
├───────────────────────────┼───────────────┤
│ 현재 구조 (raw_data 유지) │ ~687 GB │
├───────────────────────────┼───────────────┤
│ raw_data 제거 시 │ ~340 GB │
├───────────────────────────┼───────────────┤
│ 절감 효과 │ ~200 GB (54%) │
└───────────────────────────┴───────────────┘
