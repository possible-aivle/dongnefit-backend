"""optimize_public_data_tables_remove_redundant_fields

Revision ID: 253bae5c3109
Revises: 86a0683a9010
Create Date: 2026-02-15 23:07:25.001516

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa
import sqlmodel
from sqlalchemy.dialects import postgresql

# revision identifiers, used by Alembic.
revision: str = '253bae5c3109'
down_revision: Union[str, Sequence[str], None] = '86a0683a9010'
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    """Upgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_column('apartment_prices', 'floor_name')
    op.drop_column('apartment_prices', 'apt_type_code')
    op.drop_column('apartment_prices', 'base_month')
    op.drop_column('apartment_prices', 'jibun')
    op.drop_column('apartment_prices', 'data_base_date')
    op.drop_column('apartment_prices', 'bjd_code')
    op.drop_column('building_register_areas', 'created_date')
    op.drop_column('building_register_areas', 'main_atch_type')
    op.drop_column('building_register_areas', 'floor_type')
    op.drop_column('building_register_areas', 'ledger_type')
    op.drop_column('building_register_areas', 'main_use_name')
    op.drop_column('building_register_floor_details', 'dong_name')
    op.drop_column('building_register_floor_details', 'created_date')
    op.drop_column('building_register_floor_details', 'main_atch_type')
    op.drop_column('building_register_floor_details', 'floor_type')
    op.drop_column('building_register_floor_details', 'structure_name')
    op.drop_column('building_register_generals', 'main_bldcnt')
    op.drop_column('building_register_generals', 'family_count')
    op.drop_column('building_register_generals', 'created_date')
    op.drop_column('building_register_generals', 'ho_count')
    op.drop_column('building_register_generals', 'ledger_type')
    op.drop_column('building_register_generals', 'atch_bldcnt')
    op.drop_column('building_register_generals', 'road_address')
    op.drop_column('building_register_generals', 'far_area')
    op.drop_column('building_register_headers', 'dong_name')
    op.drop_column('building_register_headers', 'family_count')
    op.drop_column('building_register_headers', 'created_date')
    op.drop_column('building_register_headers', 'main_atch_type')
    op.drop_column('building_register_headers', 'ho_count')
    op.drop_column('building_register_headers', 'ledger_type')
    op.drop_column('building_register_headers', 'road_address')
    op.drop_column('building_register_headers', 'far_area')
    op.drop_column('gis_building_integrated', 'floor_area_ratio')
    op.drop_column('gis_building_integrated', 'is_violation')
    op.drop_column('gis_building_integrated', 'building_coverage_ratio')
    op.drop_column('gis_building_integrated', 'bjd_name')
    op.drop_column('gis_building_integrated', 'structure_name')
    op.drop_column('gis_building_integrated', 'building_dong_name')
    op.drop_column('gis_building_integrated', 'data_change_date')
    op.drop_column('gis_building_integrated', 'jibun')
    op.drop_column('gis_building_integrated', 'data_base_date')
    op.drop_column('gis_building_integrated', 'bjd_code')
    op.drop_column('gis_building_integrated', 'special_land_name')
    op.drop_column('individual_house_prices', 'total_floor_area')
    op.drop_column('individual_house_prices', 'land_area')
    op.drop_column('individual_house_prices', 'base_month')
    op.drop_column('individual_house_prices', 'is_standard')
    op.drop_column('individual_house_prices', 'building_floor_area')
    op.drop_column('individual_house_prices', 'jibun')
    op.drop_column('individual_house_prices', 'data_base_date')
    op.drop_column('individual_house_prices', 'bjd_code')
    op.drop_column('land_and_forest_infos', 'ownership_code')
    op.drop_column('land_and_forest_infos', 'jibun')
    op.drop_column('land_and_forest_infos', 'data_base_date')
    op.drop_column('land_and_forest_infos', 'bjd_code')
    op.drop_column('land_and_forest_infos', 'jimok_code')
    op.drop_column('land_characteristics', 'road_side_code')
    op.drop_column('land_characteristics', 'jibun')
    op.drop_column('land_characteristics', 'use_zone_code')
    op.drop_column('land_characteristics', 'land_use_code')
    op.drop_column('land_characteristics', 'data_base_date')
    op.drop_column('land_characteristics', 'bjd_code')
    op.drop_column('land_characteristics', 'jimok_code')
    op.drop_column('land_use_plans', 'inclusion_code')
    op.drop_column('land_use_plans', 'use_district_code')
    op.drop_column('land_use_plans', 'jibun')
    op.drop_column('land_use_plans', 'data_base_date')
    op.drop_column('land_use_plans', 'bjd_code')
    op.drop_column('lots', 'ri_code')
    op.drop_column('lots', 'raw_data')
    op.drop_column('lots', 'is_mountain')
    op.drop_column('lots', 'sub_number')
    op.drop_column('lots', 'main_number')
    op.drop_column('official_land_prices', 'base_month')
    op.drop_column('official_land_prices', 'special_land_name')
    op.drop_column('official_land_prices', 'is_standard')
    op.drop_column('official_land_prices', 'announcement_date')
    op.drop_column('official_land_prices', 'bjd_name')
    op.drop_column('official_land_prices', 'jibun')
    op.drop_column('official_land_prices', 'data_base_date')
    op.drop_column('official_land_prices', 'bjd_code')
    op.drop_column('official_land_prices', 'source_sigungu_code')
    op.drop_column('official_land_prices', 'special_land_code')
    op.drop_column('real_estate_rentals', 'previous_deposit')
    op.drop_column('real_estate_rentals', 'sub_lot_number')
    op.drop_column('real_estate_rentals', 'lot_number')
    op.drop_column('real_estate_rentals', 'renewal_right_used')
    op.drop_column('real_estate_rentals', 'previous_monthly_rent')
    op.drop_column('real_estate_rentals', 'broker_location')
    op.drop_column('real_estate_rentals', 'road_name')
    op.drop_column('real_estate_rentals', 'main_lot_number')
    op.drop_column('real_estate_rentals', 'housing_type')
    op.drop_column('real_estate_rentals', 'dong')
    op.drop_column('real_estate_rentals', 'rent_type')
    op.drop_column('real_estate_sales', 'sub_lot_number')
    op.drop_column('real_estate_sales', 'lot_number')
    op.drop_column('real_estate_sales', 'broker_location')
    op.drop_column('real_estate_sales', 'cancellation_date')
    op.drop_column('real_estate_sales', 'seller_type')
    op.drop_column('real_estate_sales', 'road_name')
    op.drop_column('real_estate_sales', 'registration_date')
    op.drop_column('real_estate_sales', 'road_condition')
    op.drop_column('real_estate_sales', 'main_lot_number')
    op.drop_column('real_estate_sales', 'housing_type')
    op.drop_column('real_estate_sales', 'dong')
    op.drop_column('real_estate_sales', 'share_type')
    op.drop_column('real_estate_sales', 'buyer_type')
    # ### end Alembic commands ###


def downgrade() -> None:
    """Downgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.add_column('real_estate_sales', sa.Column('buyer_type', sa.VARCHAR(length=20), autoincrement=False, nullable=True))
    op.add_column('real_estate_sales', sa.Column('share_type', sa.VARCHAR(length=20), autoincrement=False, nullable=True))
    op.add_column('real_estate_sales', sa.Column('dong', sa.VARCHAR(length=50), autoincrement=False, nullable=True))
    op.add_column('real_estate_sales', sa.Column('housing_type', sa.VARCHAR(length=30), autoincrement=False, nullable=True))
    op.add_column('real_estate_sales', sa.Column('main_lot_number', sa.VARCHAR(length=10), autoincrement=False, nullable=True))
    op.add_column('real_estate_sales', sa.Column('road_condition', sa.VARCHAR(length=30), autoincrement=False, nullable=True))
    op.add_column('real_estate_sales', sa.Column('registration_date', sa.VARCHAR(length=20), autoincrement=False, nullable=True))
    op.add_column('real_estate_sales', sa.Column('road_name', sa.VARCHAR(length=200), autoincrement=False, nullable=True))
    op.add_column('real_estate_sales', sa.Column('seller_type', sa.VARCHAR(length=20), autoincrement=False, nullable=True))
    op.add_column('real_estate_sales', sa.Column('cancellation_date', sa.VARCHAR(length=20), autoincrement=False, nullable=True))
    op.add_column('real_estate_sales', sa.Column('broker_location', sa.VARCHAR(length=100), autoincrement=False, nullable=True))
    op.add_column('real_estate_sales', sa.Column('lot_number', sa.VARCHAR(length=30), autoincrement=False, nullable=True))
    op.add_column('real_estate_sales', sa.Column('sub_lot_number', sa.VARCHAR(length=10), autoincrement=False, nullable=True))
    op.add_column('real_estate_rentals', sa.Column('rent_type', sa.VARCHAR(length=10), autoincrement=False, nullable=True))
    op.add_column('real_estate_rentals', sa.Column('dong', sa.VARCHAR(length=50), autoincrement=False, nullable=True))
    op.add_column('real_estate_rentals', sa.Column('housing_type', sa.VARCHAR(length=30), autoincrement=False, nullable=True))
    op.add_column('real_estate_rentals', sa.Column('main_lot_number', sa.VARCHAR(length=10), autoincrement=False, nullable=True))
    op.add_column('real_estate_rentals', sa.Column('road_name', sa.VARCHAR(length=200), autoincrement=False, nullable=True))
    op.add_column('real_estate_rentals', sa.Column('broker_location', sa.VARCHAR(length=100), autoincrement=False, nullable=True))
    op.add_column('real_estate_rentals', sa.Column('previous_monthly_rent', sa.INTEGER(), autoincrement=False, nullable=True))
    op.add_column('real_estate_rentals', sa.Column('renewal_right_used', sa.VARCHAR(length=10), autoincrement=False, nullable=True))
    op.add_column('real_estate_rentals', sa.Column('lot_number', sa.VARCHAR(length=30), autoincrement=False, nullable=True))
    op.add_column('real_estate_rentals', sa.Column('sub_lot_number', sa.VARCHAR(length=10), autoincrement=False, nullable=True))
    op.add_column('real_estate_rentals', sa.Column('previous_deposit', sa.INTEGER(), autoincrement=False, nullable=True))
    op.add_column('official_land_prices', sa.Column('special_land_code', sa.VARCHAR(length=2), autoincrement=False, nullable=True))
    op.add_column('official_land_prices', sa.Column('source_sigungu_code', sa.VARCHAR(length=5), autoincrement=False, nullable=True))
    op.add_column('official_land_prices', sa.Column('bjd_code', sa.VARCHAR(length=10), autoincrement=False, nullable=True))
    op.add_column('official_land_prices', sa.Column('data_base_date', sa.VARCHAR(length=10), autoincrement=False, nullable=True))
    op.add_column('official_land_prices', sa.Column('jibun', sa.VARCHAR(length=20), autoincrement=False, nullable=True))
    op.add_column('official_land_prices', sa.Column('bjd_name', sa.VARCHAR(length=100), autoincrement=False, nullable=True))
    op.add_column('official_land_prices', sa.Column('announcement_date', sa.DATE(), autoincrement=False, nullable=True))
    op.add_column('official_land_prices', sa.Column('is_standard', sa.BOOLEAN(), autoincrement=False, nullable=True))
    op.add_column('official_land_prices', sa.Column('special_land_name', sa.VARCHAR(length=20), autoincrement=False, nullable=True))
    op.add_column('official_land_prices', sa.Column('base_month', sa.INTEGER(), autoincrement=False, nullable=True))
    op.add_column('lots', sa.Column('main_number', sa.VARCHAR(length=4), autoincrement=False, nullable=False))
    op.add_column('lots', sa.Column('sub_number', sa.VARCHAR(length=4), autoincrement=False, nullable=False))
    op.add_column('lots', sa.Column('is_mountain', sa.BOOLEAN(), autoincrement=False, nullable=False))
    op.add_column('lots', sa.Column('raw_data', postgresql.JSONB(astext_type=sa.Text()), autoincrement=False, nullable=True))
    op.add_column('lots', sa.Column('ri_code', sa.VARCHAR(length=10), autoincrement=False, nullable=False))
    op.add_column('land_use_plans', sa.Column('bjd_code', sa.VARCHAR(length=10), autoincrement=False, nullable=True))
    op.add_column('land_use_plans', sa.Column('data_base_date', sa.VARCHAR(length=10), autoincrement=False, nullable=True))
    op.add_column('land_use_plans', sa.Column('jibun', sa.VARCHAR(length=20), autoincrement=False, nullable=True))
    op.add_column('land_use_plans', sa.Column('use_district_code', sa.VARCHAR(length=10), autoincrement=False, nullable=True))
    op.add_column('land_use_plans', sa.Column('inclusion_code', sa.VARCHAR(length=1), autoincrement=False, nullable=True))
    op.add_column('land_characteristics', sa.Column('jimok_code', sa.VARCHAR(length=5), autoincrement=False, nullable=True))
    op.add_column('land_characteristics', sa.Column('bjd_code', sa.VARCHAR(length=10), autoincrement=False, nullable=True))
    op.add_column('land_characteristics', sa.Column('data_base_date', sa.VARCHAR(length=10), autoincrement=False, nullable=True))
    op.add_column('land_characteristics', sa.Column('land_use_code', sa.VARCHAR(length=5), autoincrement=False, nullable=True))
    op.add_column('land_characteristics', sa.Column('use_zone_code', sa.VARCHAR(length=5), autoincrement=False, nullable=True))
    op.add_column('land_characteristics', sa.Column('jibun', sa.VARCHAR(length=20), autoincrement=False, nullable=True))
    op.add_column('land_characteristics', sa.Column('road_side_code', sa.VARCHAR(length=5), autoincrement=False, nullable=True))
    op.add_column('land_and_forest_infos', sa.Column('jimok_code', sa.VARCHAR(length=5), autoincrement=False, nullable=True))
    op.add_column('land_and_forest_infos', sa.Column('bjd_code', sa.VARCHAR(length=10), autoincrement=False, nullable=True))
    op.add_column('land_and_forest_infos', sa.Column('data_base_date', sa.VARCHAR(length=10), autoincrement=False, nullable=True))
    op.add_column('land_and_forest_infos', sa.Column('jibun', sa.VARCHAR(length=20), autoincrement=False, nullable=True))
    op.add_column('land_and_forest_infos', sa.Column('ownership_code', sa.VARCHAR(length=5), autoincrement=False, nullable=True))
    op.add_column('individual_house_prices', sa.Column('bjd_code', sa.VARCHAR(length=10), autoincrement=False, nullable=True))
    op.add_column('individual_house_prices', sa.Column('data_base_date', sa.VARCHAR(length=10), autoincrement=False, nullable=True))
    op.add_column('individual_house_prices', sa.Column('jibun', sa.VARCHAR(length=20), autoincrement=False, nullable=True))
    op.add_column('individual_house_prices', sa.Column('building_floor_area', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True))
    op.add_column('individual_house_prices', sa.Column('is_standard', sa.VARCHAR(length=1), autoincrement=False, nullable=True))
    op.add_column('individual_house_prices', sa.Column('base_month', sa.INTEGER(), autoincrement=False, nullable=True))
    op.add_column('individual_house_prices', sa.Column('land_area', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True))
    op.add_column('individual_house_prices', sa.Column('total_floor_area', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True))
    op.add_column('gis_building_integrated', sa.Column('special_land_name', sa.VARCHAR(length=50), autoincrement=False, nullable=True))
    op.add_column('gis_building_integrated', sa.Column('bjd_code', sa.VARCHAR(length=10), autoincrement=False, nullable=True))
    op.add_column('gis_building_integrated', sa.Column('data_base_date', sa.VARCHAR(length=10), autoincrement=False, nullable=True))
    op.add_column('gis_building_integrated', sa.Column('jibun', sa.VARCHAR(length=20), autoincrement=False, nullable=True))
    op.add_column('gis_building_integrated', sa.Column('data_change_date', sa.VARCHAR(length=10), autoincrement=False, nullable=True))
    op.add_column('gis_building_integrated', sa.Column('building_dong_name', sa.VARCHAR(length=100), autoincrement=False, nullable=True))
    op.add_column('gis_building_integrated', sa.Column('structure_name', sa.VARCHAR(length=100), autoincrement=False, nullable=True))
    op.add_column('gis_building_integrated', sa.Column('bjd_name', sa.VARCHAR(length=100), autoincrement=False, nullable=True))
    op.add_column('gis_building_integrated', sa.Column('building_coverage_ratio', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True))
    op.add_column('gis_building_integrated', sa.Column('is_violation', sa.VARCHAR(length=2), autoincrement=False, nullable=True))
    op.add_column('gis_building_integrated', sa.Column('floor_area_ratio', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True))
    op.add_column('building_register_headers', sa.Column('far_area', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True))
    op.add_column('building_register_headers', sa.Column('road_address', sa.VARCHAR(length=400), autoincrement=False, nullable=True))
    op.add_column('building_register_headers', sa.Column('ledger_type', sa.VARCHAR(length=1), autoincrement=False, nullable=True))
    op.add_column('building_register_headers', sa.Column('ho_count', sa.INTEGER(), autoincrement=False, nullable=True))
    op.add_column('building_register_headers', sa.Column('main_atch_type', sa.VARCHAR(length=1), autoincrement=False, nullable=True))
    op.add_column('building_register_headers', sa.Column('created_date', sa.VARCHAR(length=8), autoincrement=False, nullable=True))
    op.add_column('building_register_headers', sa.Column('family_count', sa.INTEGER(), autoincrement=False, nullable=True))
    op.add_column('building_register_headers', sa.Column('dong_name', sa.VARCHAR(length=100), autoincrement=False, nullable=True))
    op.add_column('building_register_generals', sa.Column('far_area', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True))
    op.add_column('building_register_generals', sa.Column('road_address', sa.VARCHAR(length=400), autoincrement=False, nullable=True))
    op.add_column('building_register_generals', sa.Column('atch_bldcnt', sa.INTEGER(), autoincrement=False, nullable=True))
    op.add_column('building_register_generals', sa.Column('ledger_type', sa.VARCHAR(length=1), autoincrement=False, nullable=True))
    op.add_column('building_register_generals', sa.Column('ho_count', sa.INTEGER(), autoincrement=False, nullable=True))
    op.add_column('building_register_generals', sa.Column('created_date', sa.VARCHAR(length=8), autoincrement=False, nullable=True))
    op.add_column('building_register_generals', sa.Column('family_count', sa.INTEGER(), autoincrement=False, nullable=True))
    op.add_column('building_register_generals', sa.Column('main_bldcnt', sa.INTEGER(), autoincrement=False, nullable=True))
    op.add_column('building_register_floor_details', sa.Column('structure_name', sa.VARCHAR(length=100), autoincrement=False, nullable=True))
    op.add_column('building_register_floor_details', sa.Column('floor_type', sa.VARCHAR(length=2), autoincrement=False, nullable=True))
    op.add_column('building_register_floor_details', sa.Column('main_atch_type', sa.VARCHAR(length=1), autoincrement=False, nullable=True))
    op.add_column('building_register_floor_details', sa.Column('created_date', sa.VARCHAR(length=8), autoincrement=False, nullable=True))
    op.add_column('building_register_floor_details', sa.Column('dong_name', sa.VARCHAR(length=100), autoincrement=False, nullable=True))
    op.add_column('building_register_areas', sa.Column('main_use_name', sa.VARCHAR(length=100), autoincrement=False, nullable=True))
    op.add_column('building_register_areas', sa.Column('ledger_type', sa.VARCHAR(length=1), autoincrement=False, nullable=True))
    op.add_column('building_register_areas', sa.Column('floor_type', sa.VARCHAR(length=2), autoincrement=False, nullable=True))
    op.add_column('building_register_areas', sa.Column('main_atch_type', sa.VARCHAR(length=1), autoincrement=False, nullable=True))
    op.add_column('building_register_areas', sa.Column('created_date', sa.VARCHAR(length=8), autoincrement=False, nullable=True))
    op.add_column('apartment_prices', sa.Column('bjd_code', sa.VARCHAR(length=10), autoincrement=False, nullable=True))
    op.add_column('apartment_prices', sa.Column('data_base_date', sa.VARCHAR(length=10), autoincrement=False, nullable=True))
    op.add_column('apartment_prices', sa.Column('jibun', sa.VARCHAR(length=20), autoincrement=False, nullable=True))
    op.add_column('apartment_prices', sa.Column('base_month', sa.INTEGER(), autoincrement=False, nullable=True))
    op.add_column('apartment_prices', sa.Column('apt_type_code', sa.VARCHAR(length=5), autoincrement=False, nullable=True))
    op.add_column('apartment_prices', sa.Column('floor_name', sa.VARCHAR(length=10), autoincrement=False, nullable=True))
    # ### end Alembic commands ###
